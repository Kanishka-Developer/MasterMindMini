<!DOCTYPE html>
<html>
	<head>
		<title>MasterMind Mini</title>
		<style>
			body {color: white; background-color: black}
			du {text-decoration-line: underline; text-decoration-style: double}
			button {color: white; background-color: black; border: "1px solid white"}
		</style>
	</head>
	<body align="center" onload="mainLoaded()">
		<h3><du>MasterMind</du> <sub><u>Mini</u></sub><h3>
		<table width="100%" align="right">
			<tr>
				<td width="37%">
					<p id="statView" align="center">
						
					</p>
				</td>
				<td>
					<table width="40%" id="mainBoard" border="1" style="border: 2px solid #005CB2; float: center; background-color: #29B6F6; color: #005CB2">
						<tr>
							<td>
								<table align="center" width="85%">
									<tr>
										<td id="Peg-6-1">
											&#9675;
										</td>
										<td id="Peg-6-2">
											&#9675;
										</td>
									</tr>
									<tr>
										<td id="Peg-6-3">
											&#9675;
										</td>
										<td id="Peg-6-4">
											&#9675;
										</td>
									</tr>
								</table>
							</td>
							<td>
								- 6 -
							</td>
							<td id="Sequence6">
								&#9675; &#9675; &#9675; &#9675;
							</td>
						</tr>
						<tr>
							<td>
								<table align="center" width="85%">
									<tr>
										<td id="Peg-5-1">
											&#9675;
										</td>
										<td id="Peg-5-2">
											&#9675;
										</td>
									</tr>
									<tr>
										<td id="Peg-5-3">
											&#9675;
										</td>
										<td id="Peg-5-4">
											&#9675;
										</td>
									</tr>
								</table>
								</td>
							<td>
								- 5 -
							</td>
							<td id="Sequence5">
								&#9675; &#9675; &#9675; &#9675;
							</td>
						</tr>
						<tr>
							<td>
								<table align="center" width="85%">
									<tr>
										<td id="Peg-4-1">
											&#9675;
										</td>
										<td id="Peg-4-2">
											&#9675;
										</td>
									</tr>
									<tr>
										<td id="Peg-4-3">
											&#9675;
										</td>
										<td id="Peg-4-4">
											&#9675;
										</td>
									</tr>
								</table>
							</td>
							<td>
								- 4 -
							</td>
							<td id="Sequence4">
								&#9675; &#9675; &#9675; &#9675;
							</td>
						</tr>
						<tr>
							<td>
								<table align="center" width="85%">
									<tr>
										<td id="Peg-3-1">
											&#9675;
										</td>
										<td id="Peg-3-2">
											&#9675;
										</td>
									</tr>
									<tr>
										<td id="Peg-3-3">
											&#9675;
										</td>
										<td id="Peg-3-4">
											&#9675;
										</td>
									</tr>
								</table>
							</td>
							<td>
								- 3 -
							</td>
							<td id="Sequence3">
								&#9675; &#9675; &#9675; &#9675;
							</td>
						</tr>
						<tr>
							<td>
								<table align="center" width="85%">
									<tr>
										<td id="Peg-2-1">
											&#9675;
										</td>
										<td id="Peg-2-2">
											&#9675;
										</td>
									</tr>
									<tr>
										<td id="Peg-2-3">
											&#9675;
										</td>
										<td id="Peg-2-4">
											&#9675;
										</td>
									</tr>
								</table>
							</td>
							<td>
								- 2 -
							</td>
							<td id="Sequence2">
								&#9675; &#9675; &#9675; &#9675;
							</td>
						</tr>
						<tr>
							<td>
								<table align="center" width="85%">
									<tr>
										<td id="Peg-1-1">
											&#9675;
										</td>
										<td id="Peg-1-2">
											&#9675;
										</td>
									</tr>
									<tr>
										<td id="Peg-1-3">
											&#9675;
										</td>
										<td id="Peg-1-4">
											&#9675;
										</td>
									</tr>
								</table>
							</td>
							<td>
								- 1 -
							</td>
							<td id="Sequence1">
								&#9675; &#9675; &#9675; &#9675;
							</td>
						</tr>
					</table>
					<br>
				</td>
			</tr>
		</table>
		
		<div id="currentSequence">
		&#9675; &#9675; &#9675; &#9675;
		</div>
		
		<br>
		
		<button id="btnRed" onclick="btnColClick('#E53635')">
			<font color="#E53635">&#9679;</font>
		</button>
		&nbsp;
		<button id="btnBlue" onclick="btnColClick('#1E88E5')">
			<font color="#1E88E5">&#9679;</font>
		</button>
		&nbsp;
		<button id="btnYellow" onclick="btnColClick('#FDD835')">
			<font color="#FDD835">&#9679;</font>
		</button>
		&nbsp;
		<button id="btnGreen" onclick="btnColClick('#43A047')">
			<font color="#43A047">&#9679;</font>
		</button>
		&nbsp;
		<button id="btnOrange" onclick="btnColClick('#FB8C00')">
			<font color="#FB8C00">&#9679;</font>
		</button>
		&nbsp;
		<button id="btnBrown" onclick="btnColClick('#6D4C41')">
			<font color="#6D4C41">&#9679;</font>
		</button>
		&nbsp; &nbsp;
		<button id="btnClear" onclick="clearSequence()">
			&#9587;
		</button>
		&nbsp; &nbsp; &nbsp; &nbsp;
		<button id="btnSubmit" onclick="submitSequence()">
			&#8594;
		</button>
		
		
		
		<script>
			
		var i;
		var colorTargetSequence = [];
		var colorUserSequence = [];
		var colorCurrentSequence =[];
		var finalSequences = [];
		var pegs = [];
		var attemptsRemaining = 6;
		
		function mainLoaded() {
			var colorBucket4Target = ["#E53635", "#1E88E5", "#FDD835", "#43A047", "#FB8C00", "#6D4C41"];
			for (i = 1; i <= 4; i++) {
				colorTargetSequence.push(colorBucket4Target.splice((Math.random() * colorBucket4Target.length), 1));
			}
		}
		
		function btnColClick(color) {
			if (!(colorUserSequence.includes(color))) {
				if ((colorUserSequence.length) < 4) {
					document.getElementById("currentSequence").textContent = "";
					colorUserSequence.push(color);
					colorUserSequence.forEach(updateCurrentSequence);
				}
				while((document.getElementById("currentSequence").textContent.length) < 8){
					document.getElementById("currentSequence").innerHTML = document.getElementById("currentSequence").innerHTML + " " + "&#9675;";
				}
			}
		}
		
		function updateCurrentSequence(color) {
			document.getElementById("currentSequence").innerHTML = document.getElementById("currentSequence").innerHTML + " " + "<font color='" + color + "'>&#9679;</font>";
		}
		
		function clearSequence() {
			document.getElementById("currentSequence").innerHTML = "&#9675; &#9675; &#9675; &#9675;";
			colorUserSequence = [];
		}
		
		function submitSequence() {
			if (attemptsRemaining == 0) {
				alert("Game Over");
			} else {
				var seqRepeat = false;
				if (colorUserSequence.length < 4) {
					alert("Please choose all four colors before submitting.");
				} else {
					if (finalSequences.length < 6) {
						for (i = 0; i < finalSequences.length; i++) {
							for (var c = 0; c < finalSequences[i].length; c++) {
								if (finalSequences[i][c] == colorUserSequence[c]) {
									seqRepeat = true;
								} else {
									seqRepeat = false;
									break;
								}
							}
							if (seqRepeat) {
								break;
							}
						}
						if (!(seqRepeat)) {
							finalSequences.push(colorUserSequence);
							document.getElementById("Sequence" + finalSequences.length).innerHTML = document.getElementById("currentSequence").innerHTML;
							clearSequence();
							attemptsRemaining--;
							markSequence();
						} else {
							alert("You have already tried that sequence.");
							clearSequence();
						}
					}
				}
			}
		}
		
		function markSequence() {
			var colorMatch = false;
			pegs = [];
			for (i = 0; i < 4; i++) {
				if (colorTargetSequence[i] == finalSequences[(finalSequences.length - 1)][i]) {
					pegs.push("black");
				} else {
					for (var c = 0; c < 4; c++) {
						if (finalSequences[(finalSequences.length - 1)][i] == colorTargetSequence[c]) {
							colorMatch = true;
							break;
						} else {
							colorMatch = false;
						}
					}
					if (colorMatch) {
						pegs.push("white");
					}
				}
			}
			var pegNumbers = [1, 2, 3, 4];
			for (i = 0; i < pegs.length; i++) {
				document.getElementById("Peg-" + finalSequences.length + "-" + (pegNumbers.splice((Math.random() * pegNumbers.length), 1))).innerHTML = "<font color='" + pegs[i] + "'>&#9679;</font>";
			}
			if (!(pegs.includes("white")) && (pegs.length == 4)) {
				document.getElementById("statView").innerHTML = "<u>Congratulations!</u><br><br>Target: " + "<font color='" + colorTargetSequence[0] + "'>&#9679;</font>" + " " + "<font color='" + colorTargetSequence[1] + "'>&#9679;</font>" + " " + "<font color='" + colorTargetSequence[2] + "'>&#9679;</font>" + " " + "<font color='" + colorTargetSequence[3] + "'>&#9679;</font>";
				attemptsRemaining = 0;
			} else {
				if (attemptsRemaining == 0) {
					document.getElementById("statView").innerHTML = "<u>Game Over</u><br><br>Target: " + "<font color='" + colorTargetSequence[0] + "'>&#9679;</font>" + " " + "<font color='" + colorTargetSequence[1] + "'>&#9679;</font>" + " " + "<font color='" + colorTargetSequence[2] + "'>&#9679;</font>" + " " + "<font color='" + colorTargetSequence[3] + "'>&#9679;</font>";
				}
			}
		}
		
		</script>
		
		
		
		<!-- Kanishka_Developer -->
		
	</body>
</html>